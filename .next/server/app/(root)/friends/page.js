(()=>{var e={};e.id=234,e.ids=[234],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},12365:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=t(70260),n=t(28203),i=t(25155),a=t.n(i),o=t(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["(root)",{children:["friends",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,45370)),"E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\friends\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,89621)),"E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"E:\\web devolper\\Chat-app\\chat-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\friends\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(root)/friends/page",pathname:"/friends",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},26099:(e,r,t)=>{Promise.resolve().then(t.bind(t,45370))},63051:(e,r,t)=>{Promise.resolve().then(t.bind(t,59802))},59802:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>E});var s=t(45512),n=t(29751),i=t(51458);t(58009);var a=t(16131),o=t(81914),d=t(6868),l=t(71965),c=t(51844),p=t(87021),u=t(41680);let x=(0,u.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var h=t(61366),m=t(25409),f=t(27953),j=t(41692),v=t(91542),b=t(96116);let y=a.z.object({email:a.z.string().min(1,{message:"This field can't be empty"}).email("Please enter a valid email")}),g=()=>{let{mutate:e,pending:r}=(0,f.S)(j.F.request.create),t=(0,d.mN)({resolver:(0,o.u)(y),defaultValues:{email:""}}),n=async r=>{await e({email:r.email}).then(()=>{t.reset(),v.oR.success("Friend added successfully")}).catch(e=>{v.oR.error(e instanceof b.ik?e.data:"Failed to added friend")})};return(0,s.jsxs)(l.lG,{children:[(0,s.jsxs)(c.m_,{children:[(0,s.jsx)(c.k$,{children:(0,s.jsx)(p.$,{size:"icon",variant:"outline",children:(0,s.jsx)(l.zM,{children:(0,s.jsx)(x,{})})})}),(0,s.jsx)(c.ZI,{children:(0,s.jsx)("p",{className:"text-black",children:"Add Friend"})})]}),(0,s.jsxs)(l.Cf,{className:" bg-white text-black",children:[(0,s.jsxs)(l.c7,{children:[(0,s.jsx)(l.L3,{children:"Add a Friend"}),(0,s.jsx)(l.rr,{children:"Fill in the details to add a friend."})]}),(0,s.jsx)(h.lV,{...t,children:(0,s.jsxs)("form",{onSubmit:t.handleSubmit(n),className:"space-y-8",children:[(0,s.jsx)(h.zB,{control:t.control,name:"email",render:({field:e})=>(0,s.jsxs)(h.eI,{children:[(0,s.jsx)(h.lR,{children:"Email"}),(0,s.jsx)(h.MJ,{children:(0,s.jsx)(m.p,{placeholder:"Enter Yor Email",...e})}),(0,s.jsx)(h.C5,{})]})}),(0,s.jsx)(l.Es,{children:(0,s.jsx)(p.$,{type:"submit",disabled:r,children:"Add Friend"})})]})})]})]})};var q=t(1799),w=t(86235),P=t(81846),k=t(97643),F=t(87798);let _=(0,u.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var A=t(44269);let C=({id:e,imageUrl:r,email:t,username:n})=>{let{mutate:i,pending:a}=(0,f.S)(j.F.request.deny),{mutate:o,pending:d}=(0,f.S)(j.F.request.accept);return(0,s.jsx)(k.Zp,{className:"w-full p-2 flex flex-row item-center justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex item-center gap-4 truncate",children:[(0,s.jsxs)(P.eu,{children:[(0,s.jsx)(P.BK,{src:r,alt:"avatar"}),(0,s.jsx)(P.q5,{children:(0,s.jsx)(F.A,{})})]}),(0,s.jsxs)("div",{className:"flex flex-col truncate",children:[(0,s.jsx)("h4",{className:"truncate",children:n}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:t})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.$,{size:"icon",disabled:a||d,onClick:()=>{o({id:e}).then(()=>{v.oR.success("Friend Request Accepted")}).catch(e=>{v.oR.error(e instanceof b.ik?e.data:"Failed to deny friend request"),console.error(e)})},children:(0,s.jsx)(_,{})}),(0,s.jsx)(p.$,{size:"icon",disabled:a||d,variant:"destructive",onClick:()=>{i({id:e}).then(()=>{v.oR.success("Friend Request Denied")}).catch(e=>{v.oR.error(e instanceof b.ik?e.data:"Failed to deny friend request"),console.error(e)})},children:(0,s.jsx)(A.A,{})})]})]})})},E=()=>{let e=(0,q.IT)(j.F.requests.get);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{title:"Friends",action:(0,s.jsx)(g,{}),children:(0,s.jsx)("div",{className:"absolute top-1/2 ",children:e?0===e.length?(0,s.jsx)("p",{className:"w-full h-full flex items-center justify-center",children:"No Friend Request Found"}):e.map(e=>(0,s.jsx)(C,{id:e._id,imageUrl:e.sender.imageUrl,username:e.sender.username,email:e.sender.email},e._id)):(0,s.jsx)(w.A,{className:"h-8 w-8 "})})}),(0,s.jsx)(n.A,{})]})}},29751:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(45512),n=t(97643);t(58009);let i=()=>(0,s.jsx)(n.Zp,{className:"hidden lg:flex h-full w-full p-2 items-center justify-center text bg-secondary text-secondary-foreground  ",children:"Select/Start a conversation to get started"})},45370:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\web devolper\\\\Chat-app\\\\chat-app\\\\app\\\\(root)\\\\friends\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\friends\\page.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,17,77,814,191],()=>t(12365));module.exports=s})();