(()=>{var e={};e.id=234,e.ids=[234],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},80765:e=>{"use strict";e.exports=import("convex/react")},65769:e=>{"use strict";e.exports=import("convex/react-clerk")},26089:e=>{"use strict";e.exports=import("convex/server")},8812:e=>{"use strict";e.exports=import("convex/values")},12365:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=r(70260),n=r(28203),a=r(25155),i=r.n(a),o=r(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["(root)",{children:["friends",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,45370)),"E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\friends\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,89621)),"E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"E:\\web devolper\\Chat-app\\chat-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\friends\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(root)/friends/page",pathname:"/friends",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},26099:(e,t,r)=>{Promise.resolve().then(r.bind(r,45370))},63051:(e,t,r)=>{Promise.resolve().then(r.bind(r,57158))},9920:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>y});var n=r(45512);r(58009);var a=r(16131),i=r(81914),o=r(6868),d=r(71965),l=r(51844),c=r(87021),p=r(69855),u=r(61366),x=r(25409),h=r(27953),m=r(41692),f=r(91542),v=r(8812),j=e([h,m,v]);[h,m,v]=j.then?(await j)():j;let b=a.z.object({email:a.z.string().min(1,{message:"This field can't be empty"}).email("Please enter a valid email")}),y=()=>{let{mutate:e,pending:t}=(0,h.S)(m.F.request.create),r=(0,o.mN)({resolver:(0,i.u)(b),defaultValues:{email:""}}),s=async t=>{await e({email:t.email}).then(()=>{r.reset(),f.oR.success("Friend added successfully")}).catch(e=>{f.oR.error(e instanceof v.ConvexError?e.data:"Failed to added friend")})};return(0,n.jsxs)(d.lG,{children:[(0,n.jsxs)(l.m_,{children:[(0,n.jsx)(l.k$,{children:(0,n.jsx)(c.$,{size:"icon",variant:"outline",children:(0,n.jsx)(d.zM,{children:(0,n.jsx)(p.A,{})})})}),(0,n.jsx)(l.ZI,{children:(0,n.jsx)("p",{className:"text-black",children:"Add Friend"})})]}),(0,n.jsxs)(d.Cf,{className:" bg-white text-black",children:[(0,n.jsxs)(d.c7,{children:[(0,n.jsx)(d.L3,{children:"Add a Friend"}),(0,n.jsx)(d.rr,{children:"Fill in the details to add a friend."})]}),(0,n.jsx)(u.lV,{...r,children:(0,n.jsxs)("form",{onSubmit:r.handleSubmit(s),className:"space-y-8",children:[(0,n.jsx)(u.zB,{control:r.control,name:"email",render:({field:e})=>(0,n.jsxs)(u.eI,{children:[(0,n.jsx)(u.lR,{children:"Email"}),(0,n.jsx)(u.MJ,{children:(0,n.jsx)(x.p,{placeholder:"Enter Yor Email",...e})}),(0,n.jsx)(u.C5,{})]})}),(0,n.jsx)(d.Es,{children:(0,n.jsx)(c.$,{type:"submit",disabled:t,children:"Add Friend"})})]})})]})]})};s()}catch(e){s(e)}})},15042:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>f});var n=r(45512),a=r(81846),i=r(87021),o=r(97643),d=r(41692),l=r(27953),c=r(8812),p=r(87798),u=r(24849),x=r(44269);r(58009);var h=r(91542),m=e([d,l,c]);[d,l,c]=m.then?(await m)():m;let f=({id:e,imageUrl:t,email:r,username:s})=>{let{mutate:m,pending:f}=(0,l.S)(d.F.request.deny),{mutate:v,pending:j}=(0,l.S)(d.F.request.accept);return(0,n.jsx)(o.Zp,{className:"w-full p-2 flex flex-row item-center justify-between gap-2",children:(0,n.jsxs)("div",{className:"flex item-center gap-4 truncate",children:[(0,n.jsxs)(a.eu,{children:[(0,n.jsx)(a.BK,{src:t,alt:"avatar"}),(0,n.jsx)(a.q5,{children:(0,n.jsx)(p.A,{})})]}),(0,n.jsxs)("div",{className:"flex flex-col truncate",children:[(0,n.jsx)("h4",{className:"truncate",children:s}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:r})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.$,{size:"icon",disabled:f||j,onClick:()=>{v({id:e}).then(()=>{h.oR.success("Friend Request Accepted")}).catch(e=>{h.oR.error(e instanceof c.ConvexError?e.data:"Failed to deny friend request"),console.error(e)})},children:(0,n.jsx)(u.A,{})}),(0,n.jsx)(i.$,{size:"icon",disabled:f||j,variant:"destructive",onClick:()=>{m({id:e}).then(()=>{h.oR.success("Friend Request Denied")}).catch(e=>{h.oR.error(e instanceof c.ConvexError?e.data:"Failed to deny friend request"),console.error(e)})},children:(0,n.jsx)(x.A,{})})]})]})})};s()}catch(e){s(e)}})},57158:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>x});var n=r(45512),a=r(29751),i=r(51458);r(58009);var o=r(9920),d=r(80765),l=r(41692),c=r(86235),p=r(15042),u=e([o,d,l,p]);[o,d,l,p]=u.then?(await u)():u;let x=()=>{let e=(0,d.useQuery)(l.F.requests.get);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{title:"Friends",action:(0,n.jsx)(o.A,{}),children:(0,n.jsx)("div",{className:"absolute top-1/2 ",children:e?0===e.length?(0,n.jsx)("p",{className:"w-full h-full flex items-center justify-center",children:"No Friend Request Found"}):e.map(e=>(0,n.jsx)(p.A,{id:e._id,imageUrl:e.sender.imageUrl,username:e.sender.username,email:e.sender.email},e._id)):(0,n.jsx)(c.A,{className:"h-8 w-8 "})})}),(0,n.jsx)(a.A,{})]})};s()}catch(e){s(e)}})},29751:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(45512),n=r(97643);r(58009);let a=()=>(0,s.jsx)(n.Zp,{className:"hidden lg:flex h-full w-full p-2 items-center justify-center text bg-secondary text-secondary-foreground  ",children:"Select/Start a conversation to get started"})},24849:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},69855:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},45370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\web devolper\\\\Chat-app\\\\chat-app\\\\app\\\\(root)\\\\friends\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\web devolper\\Chat-app\\chat-app\\app\\(root)\\friends\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,209,77,318,191],()=>r(12365));module.exports=s})();