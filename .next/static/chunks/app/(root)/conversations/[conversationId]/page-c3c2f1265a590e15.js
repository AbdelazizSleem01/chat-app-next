(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{3998:(e,t,s)=>{Promise.resolve().then(s.bind(s,7248))},7248:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>T});var a=s(5155),r=s(5007),l=s(2115);let n=e=>{let{children:t}=e;return(0,a.jsx)(r.Zp,{className:"w-full h-[calc(100vh-32px)] lg:h-full p-2 flex flex-col gap-2",children:t})};var d=s(1180),o=s(7177),i=s(4505),c=s(3898),m=s(4085),u=s(750),f=s(9602),x=s(7741),p=s(8236),h=s(8173),v=s.n(h);let j=e=>{let{imageUrl:t,name:s="Unknown",options:l}=e;return(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(r.Zp,{className:"w-full relative flex items-center justify-between p-2 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v(),{href:"/conversations",className:"block lg:hidden",children:(0,a.jsx)(x.A,{})}),(0,a.jsxs)(c.eu,{className:"h-9 w-9",children:[(0,a.jsx)(c.BK,{src:t,alt:"avatar"}),(0,a.jsx)(c.q5,{children:s.substring(0,1)})]}),(0,a.jsx)("h3",{className:"font-semibold",children:s||"Unknown"}),(0,a.jsx)("div",{className:"absolute right-2 gap-2",children:l?(0,a.jsxs)(u.rI,{children:[(0,a.jsx)(u.ty,{children:(0,a.jsx)(m.$,{size:"icon",variant:"secondary",children:(0,a.jsx)(p.A,{})})}),(0,a.jsx)(u.SQ,{children:l.map((e,t)=>(0,a.jsx)(u._2,{onClick:e.onClick,className:(0,f.cn)("font-semibold",{"text-destructive":e.destructive}),children:e.label},t))})]}):null})]})})})};var g=s(8666),N=s(9253);let b=e=>{let{fromCurrentUser:t,senderImage:s,senderName:r,lastByUser:l,content:n,createdAt:d,seen:o,type:i}=e;return(0,a.jsxs)("div",{className:(0,f.cn)("flex items-end",{"justify-end":t}),children:[(0,a.jsxs)("div",{className:(0,f.cn)("flex flex-col w-full mx-2",{"order-1 items-end":t,"order-2 items-start":!t}),children:[(0,a.jsxs)("div",{className:(0,f.cn)("px-4 py-2 rounded-lg max-w-[70%]",{"bg-primary text-primary-foreground":t,"bg-secondary text-secondary-foreground":!t,"rounded-br-none":!l&&t,"rounded-bl-none":!l&&!t}),children:["text"===i?(0,a.jsx)("p",{className:"text-wrap break-words whitespace-pre-wrap break-all",children:n}):null,(0,a.jsx)("p",{className:(0,f.cn)("text-xs flex w-full my-1",{"text-primary-foreground justify-end ":t,"text-secondary-foreground justify-start ":!t}),children:(0,N.GP)(d,"hh:mm a")})]}),o]}),(0,a.jsxs)(c.eu,{className:(0,f.cn)("relative w-8 h-8 ",{"order-2":t,"order-1":!t,invisible:l}),children:[(0,a.jsx)(c.BK,{src:s}),(0,a.jsx)(c.q5,{children:r.charAt(0)})]})]})};var y=s(1273),w=s(9246);let R=e=>{let{members:t}=e,{conversationId:s}=(0,g.L)(),r=(0,o.IT)(d.F.messages.get,{id:s}),{mutate:n}=(0,y.S)(d.F.conversation.markRead);(0,l.useEffect)(()=>{r&&r.length>0&&n({conversationId:s,messageId:r[0].message._id})},[r,s,n]);let i=e=>{switch(e.length){case 1:return(0,a.jsx)("p",{className:"text-muted-foreground text-sm text-right",children:"Seen by ".concat(e[0])});case 2:return(0,a.jsx)("p",{className:"text-muted-foreground text-sm text-right",children:"Seen by ".concat(e[0]," and ").concat(e[1])});default:return(0,a.jsxs)(w.m_,{children:[(0,a.jsx)(w.k$,{children:(0,a.jsx)("p",{className:"text-muted-foreground text-sm text-right",children:"Seen by ".concat(e[0],", ").concat(e[1],", and ").concat(e.length-2," more")})}),(0,a.jsx)(w.ZI,{children:(0,a.jsx)("ul",{children:e.map((e,t)=>(0,a.jsx)("li",{children:e},t))})})]})}},c=e=>{let s=t.filter(t=>t.lastSeenMessageId===e).map(e=>{var t;return(null===(t=e.username)||void 0===t?void 0:t.split(" ")[0])||"Unknown User"});if(0!==s.length)return i(s)};return void 0===r?(0,a.jsx)("div",{children:"Loading messages..."}):null===r?(0,a.jsx)("div",{children:"Failed to load messages."}):(0,a.jsx)(w.Bc,{children:(0,a.jsx)("div",{className:"flex-1 w-full flex overflow-y-scroll flex-col-reverse gap-2 p-3 no-scrollbar",children:r.map((e,t)=>{var s;let{message:l,senderImage:n,senderName:d,isCurrentUser:o}=e,i=(null===(s=r[t-1])||void 0===s?void 0:s.message.senderId)===r[t].message.senderId,m=o?c(l._id):void 0;return(0,a.jsx)(b,{content:l.content,senderImage:n,senderName:d||"Unknown Sender",fromCurrentUser:o,lastByUser:i,createdAt:l._creationTime,seen:m,type:l.type},l._id)})})})};var k=s(4035),C=s(2679),F=s(2052),U=s(5186),S=s(9606),z=s(814),I=s(3415),_=s(1316),A=s(4960);let Z=I.z.object({content:I.z.string().min(1,{message:"Message should be at least 1 character long"})}),L=()=>{let e=(0,l.useRef)(null),{conversationId:t}=(0,g.L)(),{mutate:s,pending:n}=(0,y.S)(d.F.message.create),o=(0,S.mN)({resolver:(0,C.u)(Z),defaultValues:{content:""}}),i=async a=>{try{var r;await s({conversationId:t,type:"text",content:[a.content]}),o.reset(),null===(r=e.current)||void 0===r||r.focus()}catch(e){z.oR.error(e instanceof F.ik?e.data:"Unexpected error")}};return(0,a.jsx)(r.Zp,{className:"w-full p-2 rounded-lg relative border-gray-300 border",children:(0,a.jsx)("div",{className:"flex gap-2 items-end w-full",children:(0,a.jsx)(k.lV,{...o,children:(0,a.jsxs)("form",{onSubmit:o.handleSubmit(i),className:"flex gap-2 items-end w-full",children:[(0,a.jsx)(k.zB,{control:o.control,name:"content",render:t=>{let{field:s}=t;return(0,a.jsxs)(k.eI,{className:"h-full w-full",children:[(0,a.jsx)(k.MJ,{children:(0,a.jsx)(_.A,{ref:(0,A.P)([s.ref,e]),onKeyDown:async e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),await o.handleSubmit(i)())},rows:1,maxRows:3,name:s.name,value:s.value,onChange:s.onChange,onBlur:s.onBlur,placeholder:"Enter a message...",className:"min-h-full w-full resize-none border-0 outline-0 bg-card text-card-foreground placeholder:text-muted-foreground p-1.5"})}),(0,a.jsx)(k.C5,{})]})}}),(0,a.jsx)(m.$,{disabled:n,size:"icon",type:"submit",children:(0,a.jsx)(U.A,{})})]})})})})};var D=s(9261);let M=D.bL;D.l9;let E=D.ZL,O=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(D.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});O.displayName=D.hJ.displayName;let B=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(E,{children:[(0,a.jsx)(O,{}),(0,a.jsx)(D.UC,{ref:t,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});B.displayName=D.UC.displayName;let G=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};G.displayName="AlertDialogHeader";let P=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};P.displayName="AlertDialogFooter";let V=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(D.hE,{ref:t,className:(0,f.cn)("text-lg font-semibold",s),...r})});V.displayName=D.hE.displayName;let Y=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(D.VY,{ref:t,className:(0,f.cn)("text-sm text-muted-foreground",s),...r})});Y.displayName=D.VY.displayName;let $=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(D.rc,{ref:t,className:(0,f.cn)((0,m.r)(),s),...r})});$.displayName=D.rc.displayName,l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(D.ZD,{ref:t,className:(0,f.cn)((0,m.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})}).displayName=D.ZD.displayName;let q=e=>{let{conversationId:t,open:s,setOpen:r}=e,{mutate:l,pending:n}=(0,y.S)(d.F.friend.remove),o=async()=>{l({conversationId:t}).then(()=>{z.oR.success("Friend Removed Successfully")}).catch(e=>{z.oR.error(e instanceof F.ik?e.data:"Unexpected Error")})};return(0,a.jsx)(M,{open:s,onOpenChange:r,children:(0,a.jsxs)(B,{className:"bg-white",children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(V,{children:"Are You Sure?"}),(0,a.jsx)(Y,{children:"This action cannot be undone. All messages will be deleted, and you will not be able to message this user. All group chats will still work as normal."})]}),(0,a.jsxs)(P,{children:[(0,a.jsx)(D.Zr,{disabled:n,children:"Cancel"}),(0,a.jsx)($,{onClick:o,disabled:n,children:"Delete"})]})]})})},J=e=>{let{conversationId:t,open:s,setOpen:r}=e,{mutate:l,pending:n}=(0,y.S)(d.F.conversation.remove),o=async()=>{l({conversationId:t}).then(()=>{z.oR.success("Group Removed Successfully")}).catch(e=>{z.oR.error(e instanceof F.ik?e.data:"Unexpected Error")})};return(0,a.jsx)(M,{open:s,onOpenChange:r,children:(0,a.jsxs)(B,{className:"bg-white",children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(V,{children:"Are You Sure?"}),(0,a.jsx)(Y,{children:"This action cannot be undone. All messages will be deleted and you will not be able to message this group."})]}),(0,a.jsxs)(P,{className:"w-full block",children:[(0,a.jsx)($,{onClick:o,disabled:n,className:"w-full flex items-center justify-center",children:"Delete"}),(0,a.jsx)(D.Zr,{disabled:n,className:"w-full my-3",children:(0,a.jsx)(m.$,{className:"w-full",variant:"outline",children:"Cancel"})})]})]})})},K=e=>{let{conversationId:t,open:s,setOpen:r}=e,{mutate:l,pending:n}=(0,y.S)(d.F.conversation.leave),o=async()=>{l({conversationId:t}).then(()=>{z.oR.success("You have left the group successfully")}).catch(e=>{z.oR.error(e instanceof F.ik?e.data:"Unexpected Error")})};return(0,a.jsx)(M,{open:s,onOpenChange:r,children:(0,a.jsxs)(B,{className:"bg-white",children:[(0,a.jsxs)(G,{children:[(0,a.jsx)(V,{children:"Are You Sure?"}),(0,a.jsx)(Y,{children:"This action cannot be undone. You will not be able to send messages in this group."})]}),(0,a.jsxs)(P,{className:"w-full block",children:[(0,a.jsx)($,{onClick:o,disabled:n,className:"w-full flex items-center justify-center",children:"Leave"}),(0,a.jsx)(D.Zr,{disabled:n,className:"w-full my-3",children:(0,a.jsx)(m.$,{className:"w-full",variant:"outline",children:"Cancel"})})]})]})})},T=e=>{var t,s,r;let{params:c}=e,{conversationId:m}=l.use(c),u=(0,o.IT)(d.F.conversation.get,{id:m}),[f,x]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,g]=(0,l.useState)(!1);return void 0===u?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"h-8 w-8"})}):null===u?(0,a.jsx)("p",{className:"w-full h-full flex items-center justify-center",children:"Conversation Not Found!☹️"}):(0,a.jsxs)(n,{children:[(0,a.jsx)(q,{conversationId:m,open:f,setOpen:x}),(0,a.jsx)(J,{conversationId:m,open:p,setOpen:h}),(0,a.jsx)(K,{conversationId:m,open:v,setOpen:g}),(0,a.jsx)(j,{imageUrl:u.isGroup?void 0:null===(t=u.otherMember)||void 0===t?void 0:t.imageUrl,name:u.isGroup?u.name||"Unknown Group":(null===(s=u.otherMember)||void 0===s?void 0:s.username)||"Unknown User",options:u.isGroup?[{label:"Leave Group",destructive:!1,onClick:()=>g(!0)},{label:"Delete Group",destructive:!0,onClick:()=>h(!0)}]:[{label:"Remove Friend",destructive:!0,onClick:()=>x(!0)}]}),(0,a.jsx)(R,{members:u.isGroup?(null===(r=u.otherMembers)||void 0===r?void 0:r.map(e=>({...e,username:e.username||"Unknown User"})))||[]:u.otherMember?[{...u.otherMember,username:u.otherMember.username||"Unknown User"}]:[]}),(0,a.jsx)(L,{})]})}},3898:(e,t,s)=>{"use strict";s.d(t,{BK:()=>o,eu:()=>d,q5:()=>i});var a=s(5155),r=s(2115),l=s(6687),n=s(9602);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});d.displayName=l.bL.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",s),...r})});o.displayName=l._V.displayName;let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});i.displayName=l.H4.displayName},4085:(e,t,s)=>{"use strict";s.d(t,{$:()=>i,r:()=>o});var a=s(5155),r=s(2115),l=s(2317),n=s(652),d=s(9602);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:i=!1,...c}=e,m=i?l.DX:"button";return(0,a.jsx)(m,{className:(0,d.cn)(o({variant:r,size:n,className:s})),ref:t,...c})});i.displayName="Button"},5007:(e,t,s)=>{"use strict";s.d(t,{Zp:()=>n});var a=s(5155),r=s(2115),l=s(9602);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...r})});n.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})}).displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},750:(e,t,s)=>{"use strict";s.d(t,{SQ:()=>c,_2:()=>m,hO:()=>u,rI:()=>o,ty:()=>i});var a=s(5155),r=s(2115),l=s(8503),n=s(7365),d=s(9602);let o=l.bL,i=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,t)=>{let{className:s,inset:r,children:o,...i}=e;return(0,a.jsxs)(l.ZP,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...i,children:[o,(0,a.jsx)(n.vKP,{className:"ml-auto h-4 w-4"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=l.G5.displayName;let c=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});c.displayName=l.UC.displayName;let m=r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...n})});m.displayName=l.q7.displayName;let u=r.forwardRef((e,t)=>{let{className:s,children:r,checked:o,...i}=e;return(0,a.jsxs)(l.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:o,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(n.Srz,{className:"h-4 w-4"})})}),r]})});u.displayName=l.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...o}=e;return(0,a.jsxs)(l.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(n.RiX,{className:"h-4 w-4 fill-current"})})}),r]})}).displayName=l.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=l.JU.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},4035:(e,t,s)=>{"use strict";s.d(t,{lV:()=>m,MJ:()=>j,zB:()=>f,eI:()=>h,lR:()=>v,C5:()=>g});var a=s(5155),r=s(2115),l=s(2317),n=s(9606),d=s(9602),o=s(6195);let i=(0,s(652).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.b,{ref:t,className:(0,d.cn)(i(),s),...r})});c.displayName=o.b.displayName;let m=n.Op,u=r.createContext({}),f=e=>{let{...t}=e;return(0,a.jsx)(u.Provider,{value:{name:t.name},children:(0,a.jsx)(n.xI,{...t})})},x=()=>{let e=r.useContext(u),t=r.useContext(p),{getFieldState:s,formState:a}=(0,n.xW)(),l=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=t;return{id:d,name:e.name,formItemId:"".concat(d,"-form-item"),formDescriptionId:"".concat(d,"-form-item-description"),formMessageId:"".concat(d,"-form-item-message"),...l}},p=r.createContext({}),h=r.forwardRef((e,t)=>{let{className:s,...l}=e,n=r.useId();return(0,a.jsx)(p.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,d.cn)("space-y-2",s),...l})})});h.displayName="FormItem";let v=r.forwardRef((e,t)=>{let{className:s,...r}=e,{error:l,formItemId:n}=x();return(0,a.jsx)(c,{ref:t,className:(0,d.cn)(l&&"text-destructive",s),htmlFor:n,...r})});v.displayName="FormLabel";let j=r.forwardRef((e,t)=>{let{...s}=e,{error:r,formItemId:n,formDescriptionId:d,formMessageId:o}=x();return(0,a.jsx)(l.DX,{ref:t,id:n,"aria-describedby":r?"".concat(d," ").concat(o):"".concat(d),"aria-invalid":!!r,...s})});j.displayName="FormControl",r.forwardRef((e,t)=>{let{className:s,...r}=e,{formDescriptionId:l}=x();return(0,a.jsx)("p",{ref:t,id:l,className:(0,d.cn)("text-[0.8rem] text-muted-foreground",s),...r})}).displayName="FormDescription";let g=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e,{error:n,formMessageId:o}=x(),i=n?String(null==n?void 0:n.message):r;return i?(0,a.jsx)("p",{ref:t,id:o,className:(0,d.cn)("text-[0.8rem] font-medium text-destructive",s),...l,children:i}):null});g.displayName="FormMessage"},9246:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>d,ZI:()=>c,k$:()=>i,m_:()=>o});var a=s(5155),r=s(2115),l=s(9376),n=s(9602);let d=l.Kq,o=l.bL,i=l.l9,c=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...d}=e;return(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,n.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...d})});c.displayName=l.UC.displayName},1180:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});let a=s(5350).dp},1273:(e,t,s)=>{"use strict";s.d(t,{S:()=>l});var a=s(7177),r=s(2115);let l=e=>{let[t,s]=(0,r.useState)(!1),l=(0,a.n_)(e);return{mutate:e=>(s(!0),l(e).then(e=>e).catch(e=>{throw e}).finally(()=>{s(!1)})),pending:t}}},8666:(e,t,s)=>{"use strict";s.d(t,{L:()=>l});var a=s(6046),r=s(2115);let l=()=>{let e=(0,a.useParams)(),t=(0,r.useMemo)(()=>(null==e?void 0:e.conversationId)||"",[null==e?void 0:e.conversationId]),s=(0,r.useMemo)(()=>!!t,[t]);return{conversationId:t,isActive:s}}},9602:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(3463),r=s(9795);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[105,558,722,93,765,814,456,651,873,441,517,358],()=>t(3998)),_N_E=e.O()}]);